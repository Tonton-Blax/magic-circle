!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Swipe=e()}(this,function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,n,i){return t[1]?e({},e(n.$$scope.ctx,t[1](i?i(n):{}))):n.$$scope.ctx}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function p(){return t=" ",document.createTextNode(t);var t}function f(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function h(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}let v;function m(t){v=t}function w(){if(!v)throw new Error("Function called outside component initialization");return v}const $=[],g=[],y=[],b=[],x=Promise.resolve();let _=!1;function q(t){y.push(t)}function I(){const t=new Set;do{for(;$.length;){const t=$.shift();m(t),E(t.$$)}for(;g.length;)g.pop()();for(let e=0;e<y.length;e+=1){const n=y[e];t.has(n)||(n(),t.add(n))}y.length=0}while($.length);for(;b.length;)b.pop()();_=!1}function E(t){t.fragment&&(t.update(t.dirty),o(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(q))}const k=new Set;let L;function D(t,e){t&&t.i&&(k.delete(t),t.i(e))}function S(t,e){t.$$.dirty||($.push(t),_||(_=!0,x.then(I)),t.$$.dirty=i()),t.$$.dirty[e]=!0}function P(e,a,s,l,c,d){const u=v;m(e);const p=a.props||{},f=e.$$={fragment:null,ctx:null,props:d,update:t,not_equal:c,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:null};let h=!1;var w;f.ctx=s?s(e,p,(t,n)=>{f.ctx&&c(f.ctx[t],f.ctx[t]=n)&&(f.bound[t]&&f.bound[t](n),h&&S(e,t))}):p,f.update(),h=!0,o(f.before_update),f.fragment=l(f.ctx),a.target&&(a.hydrate?f.fragment.l((w=a.target,Array.from(w.childNodes))):f.fragment.c(),a.intro&&D(e.$$.fragment),function(t,e,i){const{fragment:a,on_mount:s,on_destroy:l,after_update:c}=t.$$;a.m(e,i),q(()=>{const e=s.map(n).filter(r);l?l.push(...e):o(e),t.$$.on_mount=[]}),c.forEach(q)}(e,a.target,a.anchor),I()),m(u)}class j{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(o(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function A(t,e,n){const i=Object.create(t);return i.x=e[n],i.i=n,i}function X(t){for(var e,n=t.indicators,i=[],o=0;o<n.length;o+=1)i[o]=z(A(t,n,o));return{c(){e=u("div");for(var t=0;t<i.length;t+=1)i[t].c();h(e,"class","swipe-indicator swipe-indicator-inside svelte-hhqe7f")},m(t,n){c(t,e,n);for(var o=0;o<i.length;o+=1)i[o].m(e,null)},p(t,o){if(t.activeIndicator||t.indicators){n=o.indicators;for(var r=0;r<n.length;r+=1){const a=A(o,n,r);i[r]?i[r].p(t,a):(i[r]=z(a),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(t){t&&d(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(i,t)}}}function z(t){var e,n,i;function o(){return t.click_handler(t)}return{c(){h(e=u("span"),"class",n="dot "+(t.activeIndicator==t.i?"is-active":"")+" svelte-hhqe7f"),i=f(e,"click",o)},m(t,n){c(t,e,n)},p(i,o){t=o,i.activeIndicator&&n!==(n="dot "+(t.activeIndicator==t.i?"is-active":"")+" svelte-hhqe7f")&&h(e,"class",n)},d(t){t&&d(e),i()}}}function C(t){var n,i,r,a,v,m,w,$,g;const y=t.$$slots.default,b=function(t,e,n){if(t){const i=s(t,e,n);return t[0](i)}}(y,t,null);var x=t.showIndicators&&X(t);return{c(){n=u("div"),i=u("div"),r=u("div"),a=u("div"),b&&b.c(),v=p(),m=u("div"),w=p(),x&&x.c(),h(a,"class","swipeable-slot-wrapper svelte-hhqe7f"),h(r,"class","swipeable-items svelte-hhqe7f"),h(i,"class","swipe-item-wrapper svelte-hhqe7f"),h(m,"class","swipe-handler svelte-hhqe7f"),h(n,"class","swipe-panel svelte-hhqe7f"),g=[f(m,"touchstart",t.moveStart),f(m,"mousedown",t.moveStart)]},l(t){b&&b.l(div0_nodes)},m(e,o){c(e,n,o),l(n,i),l(i,r),l(r,a),b&&b.m(a,null),t.div2_binding(i),l(n,v),l(n,m),t.div3_binding(m),l(n,w),x&&x.m(n,null),$=!0},p(t,i){b&&b.p&&t.$$scope&&b.p(function(t,n,i,o){return t[1]?e({},e(n.$$scope.changed||{},t[1](o?o(i):{}))):n.$$scope.changed||{}}(y,i,t,null),s(y,i,null)),i.showIndicators?x?x.p(t,i):((x=X(i)).c(),x.m(n,null)):x&&(x.d(1),x=null)},i(t){$||(D(b,t),$=!0)},o(t){!function(t,e,n,i){if(t&&t.o){if(k.has(t))return;k.add(t),L.c.push(()=>{k.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}(b,t),$=!1},d(e){e&&d(n),b&&b.d(e),t.div2_binding(null),t.div3_binding(null),x&&x.d(),o(g)}}}let H=0,M=0;function N(t,e,n){let i,o,r,a,s,{transitionDuration:l=200,showIndicators:c=!1,autoplay:d=!1,delay:u=1e3}=e,p=0,f=0,h=0,v=0,m="\n    -webkit-transition-duration: 0s;\n    transition-duration: 0s; \n    -webkit-transform: translate3d(-{{val}}px, 0, 0);\n    -ms-transform: translate3d(-{{val}}px, 0, 0);",$=`\n    -webkit-transition-duration: ${l}ms;\n    transition-duration: ${l}ms; \n    -webkit-transform: translate3d(-{{val}}px, 0, 0);\n    -ms-transform: translate3d(-{{val}}px, 0, 0);`,y=!1,b=0,x=0,_=!1;function q(){a.style.top=H+"px",n("swipeHandler",a),h=r.querySelector(".swipeable-items").offsetWidth;for(let t=0;t<f;t++)o[t].style.transform="translate3d("+h*t+"px, 0, 0)";v=0}var I;function E(t){if(y){t.stopImmediatePropagation(),t.stopPropagation();let e=h,n=t.touches?t.touches[0].pageX:t.pageX,i=s-n+b;if((n>s?0:1)||(i=b-(n-s)),i<=e*(f-1)&&i>=M){for(let t=0;t<f;t++){let n=t<0?"{{val}}":"-{{val}}",r=e*t-i;o[t].style.cssText=m.replace(n,r).replace(n,r)}v=i}}}function k(t){t&&t.stopImmediatePropagation(),t&&t.stopPropagation(),t&&t.preventDefault();let e=h;y=!1,s=null;let i=v/e,r=Math.round(i);v=Math.abs(r-i)<.85?r*e:(r+1)*e,b=v,n("activeIndicator",p=v/e);for(let t=0;t<f;t++){let n=t<0?"{{val}}":"-{{val}}",i=e*t-b;o[t].style.cssText=$.replace(n,i).replace(n,i)}window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",k),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",k)}function L(t){v=h*t,n("activeIndicator",p=t),k()}function D(){L(x),x=x<f-1?++x:0}I=(()=>{o=r.querySelectorAll(".swipeable-item"),n("items",f=o.length),q(),window.addEventListener("resize",q)}),w().$$.on_mount.push(I),function(t){w().$$.on_destroy.push(t)}(()=>{window.removeEventListener("resize",q)});let{$$slots:S={},$$scope:P}=e;return t.$set=(t=>{"transitionDuration"in t&&n("transitionDuration",l=t.transitionDuration),"showIndicators"in t&&n("showIndicators",c=t.showIndicators),"autoplay"in t&&n("autoplay",d=t.autoplay),"delay"in t&&n("delay",u=t.delay),"$$scope"in t&&n("$$scope",P=t.$$scope)}),t.$$.update=((t={items:1,autoplay:1,run_interval:1,delay:1})=>{t.items&&n("indicators",i=Array(f)),(t.autoplay||t.run_interval||t.delay)&&(d&&!_&&n("run_interval",_=setInterval(D,u)),!d&&_&&(clearInterval(_),n("run_interval",_=!1)))}),{transitionDuration:l,showIndicators:c,autoplay:d,delay:u,activeIndicator:p,indicators:i,swipeWrapper:r,swipeHandler:a,moveStart:function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),y=!0,s=t.touches?t.touches[0].pageX:t.pageX,window.addEventListener("mousemove",E),window.addEventListener("mouseup",k),window.addEventListener("touchmove",E),window.addEventListener("touchend",k)},changeItem:L,div2_binding:function(t){g[t?"unshift":"push"](()=>{n("swipeWrapper",r=t)})},div3_binding:function(t){g[t?"unshift":"push"](()=>{n("swipeHandler",a=t)})},click_handler:function({i:t}){L(t)},$$slots:S,$$scope:P}}return class extends j{constructor(t){var e;super(),document.getElementById("svelte-hhqe7f-style")||((e=u("style")).id="svelte-hhqe7f-style",e.textContent=".swipe-panel.svelte-hhqe7f{position:relative;height:var(--sv-swipe-panel-height, inherit);width:var(--sv-swipe-panel-width, inherit)}.swipe-item-wrapper.svelte-hhqe7f{overflow:hidden;position:relative;height:inherit}.swipeable-items.svelte-hhqe7f,.swipeable-slot-wrapper.svelte-hhqe7f{position:relative;width:inherit;height:inherit}.swipe-handler.svelte-hhqe7f{width:100%;position:absolute;top:40px;bottom:40px;left:0;right:0;background:rgba(0,0,0,0)}.swipe-indicator.svelte-hhqe7f{position:relative;bottom:1.5rem;display:flex;justify-content:center}.dot.svelte-hhqe7f{height:10px;width:10px;background-color:transparent;border:1px solid grey;border-radius:50%;display:inline-block;margin:0px 2px;cursor:pointer}.swipe-indicator.svelte-hhqe7f .is-active.svelte-hhqe7f{background-color:var(--sv-swipe-indicator-active-color, grey)}",l(document.head,e)),P(this,t,N,C,a,["transitionDuration","showIndicators","autoplay","delay"])}}});
